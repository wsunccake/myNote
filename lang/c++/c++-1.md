# C++

---

## content

- [simple](#simple)
  - [hello](#hello)
  - [example](#example)
- [operator](#operator)
  - [arithmetic operator](#arithmetic-operator)
  - [relational operator](#relational-operator)
  - [logical operator](#logical-operator)
  - [++]
- [data type](#data-type)
  - [primitive built-in type](#primitive-built-in-type)
  - [typedef](#typedef)
  - [enum](#enum)
  - [data convert / casting](#data-convert--casting)
- [decision](#decision)
  - [if](#if)
  - [switch](#switch)
  - [goto](#goto)
- [loop]($loop)
  - [for](#for)
  - [while](#while)
  - [do while](#do-while)
- [function](#function)
  - [scope](#scope)
  - [call by value / address / reference](#call-by-value--address--reference)
  - [inline](#inline)

---

## simple

### hello

```cpp
// hello.cpp
#include <iostream>
using namespace std;

int main()
{
    cout << "hello";
    return 0;
}
```

```text
#include <iostream>
    iostream header

using namespace std;
    namespace

int main()

cout << "hello"
    console out
    stream insertion operator

return 0;
    0 exit code
```

```cpp
// hi.cpp
#include <iostream>

int main()
{
    std::cout << "hi";
    return 0;
}
```

```text
    std::cout << "hi";
```

```bash
linux:~ $ g++ -o hello hello.cpp
```

### example

```cpp
#include <iostream>

int main()
{
    int number1;
    int number2;
    int sum = 0; // initialize
    // int sum{0};

    std::cout << "first number: ";
    std::cin >> number1;

    std::cout << "second number:";
    std::cin >> number2;

    sum = number1 + number2;
    std::cout << "sum: " << sum << std::endl;

    return 0;
}
```

```makefile
CPP=/usr/bin/g++
CPPFLAGS=-g

.SUFFIX : .cpp .o

my ?= main
my_objs =

.cpp .o :
	@echo "compile ..."
	$(CPP) $(CPPFLAGS) -c $<

${my}.exe: ${my}.o
	@echo "build ..."
	$(CPP) $(CPPFLAGS) -o ${my}.exe ${my}.o

.PHONY: run
run: ${my}.exe
	./${my}.exe

.PHONY: run_all
run_all:
	-@for n in $(my_objs); do \
		echo $$n;\
		make my=$$n run;\
	done

.PHONY: clean
clean:
	-rm *.o
	-rm *.exe
	-rm *.so
```

```text
>>
    stream extraction operator

<<
    stream insertion operator

expression

statement

```

## operator

### arithmetic operator

```text
()
*, /, %
+, -
```

### relational operator

```text
>, <, >=, <=
==, !=
```

### logical operator

```text
&&
||
!
```

[C++ Operator Precedence](https://en.cppreference.com/w/cpp/language/operator_precedence)

### ++

```cpp
#include <iostream>
using namespace std;

int main()
{
int c;

    // c++
    c = 0;
    cout << "c: " << c << endl;
    cout << "c++: " << c++ << endl;
    cout << "c: " << c << endl;

    // ++c
    c = 0;
    cout << "c: " << c << endl;
    cout << "++c: " << ++c << endl;
    cout << "c: " << c << endl;

    // c+c++
    c = 0;
    cout << "c: " << c << endl;
    cout << "c+c++: " << c + c++ << endl;
    cout << "c: " << c << endl;

    // c+++c
    c = 0;
    cout << "c: " << c << endl;
    cout << "c+++c: " << c++ + c << endl;
    cout << "c: " << c << endl;

    // c+++c++
    c = 0;
    cout << "c: " << c << endl;
    cout << "c+++c++: " << c++ + c++ << endl;
    cout << "c: " << c << endl;

    // c+++c+c+c++;
    c = 0;
    cout << "c: " << c << endl;
    cout << "c+++c+c+c++: " << c++ + c + c + c++ << endl;
    cout << "c: " << c << endl;

    return 0;
}
```

---

## data type

### primitive built-in type

```text
char	                1byte	        -127 to 127 or 0 to 255
unsigned char	        1byte	        0 to 255
signed char	            1byte	        -127 to 127
int	                    4bytes	        -2147483648 to 2147483647
unsigned int	        4bytes	        0 to 4294967295
signed int	            4bytes	        -2147483648 to 2147483647
short int	            2bytes	        -32768 to 32767
unsigned short int	    2bytes	        0 to 65,535
signed short int	    2bytes	        -32768 to 32767
long int	            8bytes	        -9223372036854775808 to 9223372036854775807
signed long int	        8bytes	        same as long int
unsigned long int	    8bytes	        0 to 18446744073709551615
long long int	        8bytes	        -(2^63) to (2^63)-1
unsigned long long int	8bytes	        0 to 18,446,744,073,709,551,615
float	                4bytes
double	                8bytes
long double	            12bytes
wchar_t	                2 or 4 bytes    1 wide character
```

```cpp
#include <iostream>
#include <limits>

using namespace std;

int main()
{
   cout << "Size of char : " << sizeof(char) << endl;
   cout << "Size of int : " << sizeof(int) << endl;
   cout << "Size of short int : " << sizeof(short int) << endl;
   cout << "Size of long int : " << sizeof(long int) << endl;
   cout << "Size of float : " << sizeof(float) << endl;
   cout << "Size of double : " << sizeof(double) << endl;
   cout << "Size of wchar_t : " << sizeof(wchar_t) << endl;

   cout << "Int Min " << numeric_limits<int>::min() << endl;
   cout << "Int Max " << numeric_limits<int>::max() << endl;
   cout << "Unsigned Int  Min " << numeric_limits<unsigned int>::min() << endl;
   cout << "Unsigned Int Max " << numeric_limits<unsigned int>::max() << endl;
   cout << "Long Int Min " << numeric_limits<long int>::min() << endl;
   cout << "Long Int Max " << numeric_limits<long int>::max() << endl;

   cout << "Unsigned Long Int Min " << numeric_limits<unsigned long int>::min() << endl;
   cout << "Unsigned Long Int Max " << numeric_limits<unsigned long int>::max() << endl;

   return 0;
}
```

### typedef

```cpp
   typedef int feet;
   feet length = 3;
   feet width = 1;
   cout << "area: " << length * width << endl;
```

### enum

```cpp
   enum color { red=1, green, blue };
   color c = blue;
   cout << c << endl;
```

### data convert / casting

```cpp
#include <iostream>
using namespace std;

int main()
{
    float x = 33767.6;

    // implicit convert
    int i1 = x + 1;
    cout << "i1: " << i1 << endl;

    // explicit convert
    int i2 = (int)x + 1;
    cout << "i2: " << i2 << endl;

    // cast operator
    int i3 = static_cast<int>(x) + 1;
    cout << "i3: " << i3 << endl;

    short s1 = x + 1;
    cout << "s1: " << s1 << endl;

    short s2 = (short)x + 1;
    cout << "s2: " << s2 << endl;

    short s3 = static_cast<short>(x) + 1;
    cout << "s3: " << s3 << endl;
    return 0;
}
```

---

## decision

### if

```cpp
#include <iostream>
using namespace std;

int main()
{
    char sex;
    cout << "input m/f:";
    cin >> sex;
    cout << "your input: " << sex << endl;

    if (sex == 'm')
    {
        cout << "male\n";
    }
    else if (sex == 'f')
    {
        cout << "female\n";
    }
    else
    {
        cout << "unknown\n";
    }

    // single statemnet without block
    if (sex == 'm')
        cout << "male\n";
    else if (sex == 'f')
        cout << "female\n";
    else
        cout << "unknown\n";

    // ternary operator
    int i = (sex == 'm' ? 1 : 0);
    // int i;
    // if (sex == 'm')
    //     i = 1;
    // else
    //     i = 0;
    cout << i << endl;

    // default 0
    if (!0)
        printf("!0 is true\n");

    // default NULL
    if (!NULL)
        printf("!NULL is true\n");

    return 0;
}
```

### switch

```cpp
#include <iostream>

using namespace std;

int main()
{
    char sex;
    cout << "input m/f:";
    cin >> sex;
    cout << "your input: "<< sex << endl;

    switch (sex)
    {
    case 'm':
    case 'M':
        cout << "male\n";
        break;
    case 'f':
    case 'F':
        cout << "female\n";
        break;
    default:
        cout << "unknown\n";
        break;
    }

    return 0;
}
```

### goto

---

## loop

### for

```cpp
#include <iostream>
using namespace std;

int main()
{
    const int MAX = 5;

    for (int i = 0; i < MAX; i++)
    {
        cout << i << endl;
    }

    return 0;
}
```

```cpp
#include <iostream>
using namespace std;

int main()
{
    const int MAX = 5;

    int i = 0;
    // infinite loop
    for (;;)
    {
        if (i > MAX)
        {
            break;
        }
        i++;
        cout << i << endl;
    }

    return 0;
}
```

### while

```cpp
#include <iostream>
using namespace std;

int main()
{
    const int MAX = 5;

    int i = 0;
    while (i < MAX)
    {
        i++;
        cout << i << endl;
    }

    return 0;
}
```

### do while

```cpp
#include <iostream>
using namespace std;

int main()
{
    const int MAX = 5;

    int i = 0;
    do
    {
        i++;
        cout << i << endl;
    } while (i < MAX);

    return 0;
}
```

---

## function

```cpp
#include <iostream>
using namespace std;

// function declare
int max(int num1, int num2);

int main()
{
    cout << "max: " << max(5, 10) << endl;
    return 0;
}

int max(int num1, int num2)
{
    return (num1 > num2) ? num1 : num2;
}
```

### scope

```cpp
#include <iostream>
using namespace std;

// global variable declaration
int g = 200;
int G = 100;

int main()
{
    // local variable declaration
    int g = 10;
    int l = 9;
    int v = 9;
    cout << "main g :" << g << endl;
    cout << "main l :" << l << endl;
    cout << "main v :" << v << endl;

    // still global variable
    cout << "main G: " << G << endl;

    {
        int v = -1;
        cout << "{v} :" << v << endl;
        cout << "{l} :" << l << endl;
        cout << "{g} :" << g << endl;
        l = 0;
    }

    cout << "main l :" << l << endl;
    cout << "main v :" << v << endl;

    return 0;
}
```

### call by value / address / reference

```cpp
#include <iostream>
using namespace std;

// call by value
void swap1(int x, int y)
{
    int temp;
    temp = x;
    x = y;
    y = temp;
    return;
}

// call by address
void swap2(int *x, int *y)
{
    int temp;
    temp = *x;
    *x = *y;
    *y = temp;
    return;
}

// call by reference
void swap3(int &x, int &y)
{
    int temp;
    temp = x;
    x = y;
    y = temp;
    return;
}

int main()
{
    int a1 = 1, b1 = 9;
    cout << "before swap1 a: " << a1 << " b: " << b1 << endl;
    swap1(a1, b1);
    cout << "after  swap1 a: " << a1 << " b: " << b1 << endl;

    int a2 = 1, b2 = 9;
    cout << "before swap2 a: " << a2 << " b: " << b2 << endl;
    swap2(&a2, &b2);
    cout << "after  swap2 a: " << a2 << " b: " << b2 << endl;

    int a3 = 1, b3 = 9;
    cout << "before swap3 a: " << a3 << " b: " << b3 << endl;
    swap3(a3, b3);
    cout << "after  swap3 a: " << a3 << " b: " << b3 << endl;

    return 0;
}
```

### default value

```cpp
#include <iostream>
using namespace std;

void hello(string name = "c++")
{
    cout << "hello " << name << endl;
    return;
}

int main()
{
    string name = "world";
    hello(name);
    hello();

    return 0;
}
```

### inline

```cpp
#include <iostream>

using namespace std;

inline int Max(int x, int y)
{
    return (x > y) ? x : y;
}

int main()
{
    cout << "Max (20,10): " << Max(20, 10) << endl;
    cout << "Max (0,200): " << Max(0, 200) << endl;
    cout << "Max (100,1010): " << Max(100, 1010) << endl;

    return 0;
}
```

---

## array

```cpp
#include <iostream>
using namespace std;

#include <iomanip>
using std::setw;

int main()
{
    int arr1[3] = {1, 2, 3};
    int arr2[] = {1, 2, 3};
    int arr3[3];
    arr3[0] = 1, arr3[1] = 2, arr3[2] = 3;

    cout << "arr1[0]: " << setw(4) << arr1[0] << "\tlen: " << sizeof(arr1) / sizeof(arr1[0]) << endl;
    int i = 0;
    for (i; i < 3; i++)
    {
        cout << "arr2[" << i << "]: " << setw(4) << arr2[i] << endl;
    }

    size_t n1 = sizeof(arr1) / sizeof(arr1[0]);
    cout << "array size: " << setw(4) << n1 << endl;

    size_t n2 = sizeof(arr1) / sizeof(*arr1);
    cout << "array size: " << setw(4) << n2 << endl;

    return 0;
}
```

### multi-dimensional array

```cpp
#include <iostream>
using namespace std;

int main()
{
    int arr2d[2][3] = {{1, 2, 3}, {7, 8, 9}};
    cout << "arr2d[0][2]: " << arr2d[0][2] << endl;

    // int arr2d1[2][] = {{1, 2, 3}, {7, 8, 9}};
    // cout << "arr2d1[0][2]: " << arr2d1[0][2] << endl;

    int arr2d2[][3] = {{1, 2, 3}, {7, 8, 9}};
    cout << "arr2d2[0][2]: " << arr2d2[0][2] << endl;

    return 0;
}
```

### row-major vs column-major

```cpp

#include <iostream>
#include <ctime>

using namespace std;

void row_major(int const NUM)
{
    int m[NUM][NUM];
    int i, j;

    for (i = 0; i < NUM; i++)
        for (j = 0; j < NUM; j++)
            m[i][j] = m[i][j] + (m[i][j] * m[i][j]);
}

void column_major(int const NUM)
{
    int m[NUM][NUM];
    int i, j;

    for (j = 0; j < NUM; j++)
        for (i = 0; i < NUM; i++)
            m[i][j] = m[i][j] + (m[i][j] * m[i][j]);
}

int main()
{
    int const NUM = 999;
    time_t start, stop;

    start = time(0);
    cout << "start time: " << ctime(&start) << endl;

    for (int i = 0; i < NUM * 10; i++)
        row_major(NUM);

    stop = time(0);
    cout << "stop time: " << ctime(&stop) << endl;
    cout << "The run-time of row major order is " << difftime(stop, start) << endl;

    start = time(0);
    cout << "start time: " << ctime(&start) << endl;

    for (int i = 0; i < NUM * 10; i++)
        column_major(NUM);

    stop = time(0);
    cout << "stop time: " << ctime(&stop) << endl;
    cout << "The run-time of column major order is " << difftime(stop, start) << endl;
    return 0;
}
```

### function - array

```cpp
#include <iostream>
using namespace std;

void showArray(int array[], int size)
{
    int i = 0;
    for (i; i < size; i++)
        cout << "array[" << i << "]: " << array[i] << endl;
}

int main()
{
    int arr1[] = {1, 2, 3};
    showArray(arr1, 3);

    return 0;
}
```

---

## pointer

```text
[]: array subscripting operator

*: value at address operator

&: address of operator

x[i] <- *(x + i) in expression
```

```cpp
#include <iostream>

using namespace std;

int main()
{
    int var = 20;
    int *ptr1 = &var;
    // int (*ptr1) = &var;
    int *ptr2;
    ptr2 = &var;
    // int *ptr3;
    // *ptr3 = var;

    cout << "&var: " << &var << ", "
         << "ptr1: " << ptr1 << ", "
         << "ptr2: " << ptr2
         << endl;
    cout << "var: " << var << ", "
         << "*ptr1: " << *ptr1 << ", "
         << "*ptr2: " << *ptr2
         << endl;

    *ptr2 = 1;
    cout << "var: " << var << ", "
         << "*ptr1: " << *ptr1 << ", "
         << "*ptr2: " << *ptr2
         << endl;

    // NULL pointer
    int *iptr = NULL;
    cout << "iptr: " << iptr << ", "
         //  << "*iptr" << *iptr
         << endl;

    string s = (iptr == NULL ? "is NULL\n" : "not NULL\n");
    cout << s;
    // if (!iptr)
    //     cout << "is NULL\n";
    // else
    //     cout << "not NULL\n";

    return 0;
}
```

```cpp
#include <iostream>

using namespace std;

int main()
{
    // array of pointer
    char *sentence[3];
    // char *(sentence[3]);
    sentence[0] = "hello";
    sentence[1] = "hi";
    sentence[2] = "hey";

    cout << sentence[0] << endl;

    // pointer to array
    int arr2d[2][3] = {{1, 2, 3}, {7, 8, 9}};
    int(*pta)[3] = arr2d;

    cout << "address: " << pta[0] << " "
         << "value: " << *pta[0] << endl;
    cout << "address: " << (pta + 1)[0] << " "
         << "value: " << *(pta + 1)[0] << endl;

    cout << (*pta)[0] << endl;
    cout << *(pta[0]) << endl;
    cout << *(pta)[0] << endl;

    // pointer to pointer
    int var = 20;
    int *ptr = &var;
    int **pptr = &ptr;

    cout << "var: " << var << " "
         << "*ptr: " << *ptr << " "
         << "**pptr: " << **pptr << endl;

    cout << "&var: " << &var << " "
         << "ptr: " << ptr << " "
         << "*pptr: " << *pptr << endl;

    cout << "&ptr: " << &ptr << " "
         << "pptr: " << pptr << endl;

    return 0;
}
```

---

## string

```cpp
#include <iostream>
#include <string>

using namespace std;

int main()
{
    char hello1[] = {'H', 'e', 'l', 'l', 'o', '\0'};
    char world1[] = "World";

    cout << hello1 << endl;

    string hello2 = "Hello";
    string world2 = "World";
    string message2 = hello2 + " " + world2;

    cout << hello2 << endl;
    cout << message2 << endl;
    cout << message2.size() << endl;

    return 0;
}
```

```cpp
#include <iostream>
#include <iomanip>

using namespace std;

int main()
{
    cout << "1234567" << endl;
    cout << "A" << endl;
    cout << setw(7) << "B" << endl;
    cout << left << setw(7) << "C" << endl;
    cout << right << setw(7) << "D" << endl;
    cout << setw(7) << "abcd1234" << endl;

    return 0;
}
```

---
